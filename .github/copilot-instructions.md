# Copilot Instructions for Portfolio2

## Project Overview

This is a **portfolio website** for Adam Waito (Visual Endeavors) featuring illustration, design, animation, and web work. It's a hybrid static-CMS site combining hand-coded HTML/CSS/JS with Decap CMS backend for content management.

**Key Technologies:**
- Frontend: Vanilla HTML, CSS, JavaScript (no frameworks)
- CMS: Decap CMS (headless, GitHub-backed)
- Build: npm with Decap CMS app

## Architecture & Data Flow

### Frontend Layer (`index.html`, `css/style.css`, `js/main.js`)
- Single-page static site with client-side filtering and modal interactions
- Projects displayed in a responsive grid with category filters
- **Filter System**: Buttons (data-filter attribute) toggle project visibility via `data-category` matching
  - Categories: "all", "illustration", "web", "layout", "animation", "comics", "other"
  - Implementation: simple string matching with includes() for multi-category projects

### Interactive Features (`js/main.js`)
1. **Project Filtering**: Click filter buttons to show/hide projects matching `data-category`
2. **Project Modal**: Click any project to open detailed view with:
   - Image gallery with fade transitions
   - Navigation (arrow keys, swipe gestures, prev/next buttons)
   - Hard-coded `projectData` object maps titles → descriptions + image arrays
3. **Event Handlers**: DOMContentLoaded wraps all JS; keyboard/touch support built-in

### CMS Integration (`admin/config.yml`, `admin/index.html`)
- **Backend**: GitHub (adamwaito/portfolio repo, main branch)
- **Collections**: "projects" folder in content/projects
- **Media**: Images uploaded to `images/uploads`
- **Admin UI**: Accessed via `/admin/` - loads Decap CMS from CDN
- **Current State**: Static HTML has hard-coded projects; CMS fetch attempt (line 24 of main.js) is incomplete

### Design System (`css/style.css`)
- **Font Stack**: Primary "Atkinson Hyperlegible Mono" (Google Fonts), secondary "Playwrite NZ Basic"
- **Color Palette**: CSS variables (--colour1, --colour2) defined in :root
- **Type Scale**: Modular scale from h1 (3rem) → p (1rem) with specific letter-spacing per level
- **Spacing**: `--section-space` uses clamp() for responsive sizing
- **Responsiveness**: Container, grid layout, clamp() for fluid scaling

## Developer Workflows

### Start Development
```bash
npm start  # Launches Decap CMS app (decap-cms-app package)
npm run test  # Currently dummy test
```

### Project/File Structure
```
index.html              # Main portfolio page
admin/
  ├── index.html        # CMS admin interface
  └── config.yml        # Decap CMS configuration (GitHub backend)
admin/content/
  ├── home.md           # Homepage content (frontmatter format)
  └── projects/         # Auto-generated by CMS from UI
css/style.css           # All styles (monolithic, no preprocessor)
js/main.js              # All JS logic (~177 lines)
images/                 # Static images (placeholder.jpg, placeholder2.jpg, placeholder3.jpg)
```

## Critical Patterns & Conventions

### HTML/JS Data Binding
- **Projects** use semantic `<article class="project" data-category="...">` structure
- **Modal interaction** relies on hard-coded `projectData` object keyed by `h4` title text
- **Risk**: If project titles in HTML don't match `projectData` keys exactly, modal will show undefined content

### Modal Image Gallery
- Images stored as arrays in `projectData` object
- Transitions use `requestAnimationFrame()` + custom opacity/transform
- Swipe detection via `touchstart`/`touchend` with 50px threshold
- Close via ESC key, outside click, or close button (×)

### CSS Organization
- Single file, no preprocessor (no SCSS/Less)
- CSS variables for theming (colors, spacing)
- Grid layout for project gallery
- Responsive design via clamp() for fluid typography/spacing

## Integration Points & Gotchas

### CMS Not Yet Wired
- `admin/config.yml` defines collections but fetch() on line 24 of main.js is incomplete
- **To enable**: Complete fetch logic to load projects from CMS markdown files or API
- Projects currently hard-coded in HTML and projectData object

### Image Paths
- Static images: `images/placeholder.jpg` etc.
- CMS uploads go to: `images/uploads/` (per config.yml)
- **Future state**: Script would need to merge static + CMS-uploaded images

### Decap CMS Setup
- Requires GitHub authentication via OAuth
- Media folder must exist in repo
- Branch-based workflow (main branch, editable)

## When Adding New Features

1. **New categories**: Add button in HTML with `data-filter="new-category"` and update project `data-category` attrs
2. **New projects**: Add `<article>` element + entry in `projectData` object (must match titles exactly)
3. **New modal features**: All JS in main.js; avoid external libs (current vanilla approach)
4. **CMS enablement**: Implement fetch from `/content/projects` markdown or JSON API; hydrate projectData dynamically

## Key Files to Review
- [index.html](index.html) — Page structure, filter buttons, project grid, modal markup
- [js/main.js](js/main.js) — Filter logic, modal interactions, event handlers
- [css/style.css](css/style.css) — Design system, responsive layout
- [admin/config.yml](admin/config.yml) — CMS structure and GitHub integration
